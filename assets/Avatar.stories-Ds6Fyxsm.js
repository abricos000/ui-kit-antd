import{r as a}from"./index-yUhCOHB4.js";import{g as U,m as Y,r as Z,A as ge,o as W,c as N,w as ue}from"./withTheme-BZjfB2_G.js";import{R as fe}from"./index-Bk0uRlbK.js";import{u as ve,r as he}from"./useBreakpoint-CN2-Gz76.js";import{u as ye}from"./useSize-B1r5YZIW.js";import{t as Se}from"./toArray-Cp1e_jLy.js";import{g as xe}from"./index-CRSZZ-wQ.js";import{i as be,a as Ce,P as $e,T as Oe}from"./index-B0KqwWo5.js";import"./index-udfneUKJ.js";import{P as ze}from"./colors-DYHlsvx_.js";import{c as Pe}from"./reactNode-UryL7lBS.js";import"./shadow-smhd3i8u.js";import"./isVisible-DhUEo0yb.js";import"./useMergedState-nnramASc.js";import"./useZIndex-DNZU-7k-.js";import"./roundedArrow-BG_ysHtG.js";import"./Compact-z-h6XOSt.js";import"./Keyframes-DkgPI3VG.js";const _=a.createContext({}),Ee=e=>{const{antCls:r,componentCls:o,iconCls:t,avatarBg:n,avatarColor:c,containerSize:i,containerSizeLG:s,containerSizeSM:p,textFontSize:d,textFontSizeLG:f,textFontSizeSM:h,borderRadius:m,borderRadiusLG:g,borderRadiusSM:$,lineWidth:x,lineType:P}=e,O=(b,y,E)=>({width:b,height:b,lineHeight:`${b-x*2}px`,borderRadius:"50%",[`&${o}-square`]:{borderRadius:E},[`${o}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${o}-icon`]:{fontSize:y,[`> ${t}`]:{margin:0}}});return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},Z(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:c,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:n,border:`${x}px ${P} transparent`,"&-image":{background:"transparent"},[`${r}-image-img`]:{display:"block"}}),O(i,d,m)),{"&-lg":Object.assign({},O(s,f,g)),"&-sm":Object.assign({},O(p,h,$)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},we=e=>{const{componentCls:r,groupBorderColor:o,groupOverlapping:t,groupSpace:n}=e;return{[`${r}-group`]:{display:"inline-flex",[`${r}`]:{borderColor:o},"> *:not(:first-child)":{marginInlineStart:t}},[`${r}-group-popover`]:{[`${r} + ${r}`]:{marginInlineStart:n}}}},J=U("Avatar",e=>{const{colorTextLightSolid:r,colorTextPlaceholder:o}=e,t=Y(e,{avatarBg:o,avatarColor:r});return[Ee(t),we(t)]},e=>{const{controlHeight:r,controlHeightLG:o,controlHeightSM:t,fontSize:n,fontSizeLG:c,fontSizeXL:i,fontSizeHeading3:s,marginXS:p,marginXXS:d,colorBorderBg:f}=e;return{containerSize:r,containerSizeLG:o,containerSizeSM:t,textFontSize:Math.round((c+i)/2),textFontSizeLG:s,textFontSizeSM:n,groupSpace:d,groupOverlapping:-p,groupBorderColor:f}});var je=function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Ne=(e,r)=>{const[o,t]=a.useState(1),[n,c]=a.useState(!1),[i,s]=a.useState(!0),p=a.useRef(null),d=a.useRef(null),f=ge(r,p),{getPrefixCls:h,avatar:m}=a.useContext(W),g=a.useContext(_),$=()=>{if(!d.current||!p.current)return;const u=d.current.offsetWidth,l=p.current.offsetWidth;if(u!==0&&l!==0){const{gap:S=4}=e;S*2<l&&t(l-S*2<u?(l-S*2)/u:1)}};a.useEffect(()=>{c(!0)},[]),a.useEffect(()=>{s(!0),t(1)},[e.src]),a.useEffect($,[e.gap]);const x=()=>{const{onError:u}=e;(u==null?void 0:u())!==!1&&s(!1)},{prefixCls:P,shape:O,size:b,src:y,srcSet:E,icon:C,className:j,rootClassName:te,alt:re,draggable:oe,children:T,crossOrigin:ne}=e,R=je(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),v=ye(u=>{var l,S;return(S=(l=b??(g==null?void 0:g.size))!==null&&l!==void 0?l:u)!==null&&S!==void 0?S:"default"}),ae=Object.keys(typeof v=="object"?v||{}:{}).some(u=>["xs","sm","md","lg","xl","xxl"].includes(u)),M=ve(ae),se=a.useMemo(()=>{if(typeof v!="object")return{};const u=he.find(S=>M[S]),l=v[u];return l?{width:l,height:l,lineHeight:`${l}px`,fontSize:l&&(C||T)?l/2:18}:{}},[M,v]),z=h("avatar",P),[ie,le]=J(z),ce=N({[`${z}-lg`]:v==="large",[`${z}-sm`]:v==="small"}),A=a.isValidElement(y),pe=O||(g==null?void 0:g.shape)||"circle",de=N(z,ce,m==null?void 0:m.className,`${z}-${pe}`,{[`${z}-image`]:A||y&&i,[`${z}-icon`]:!!C},j,te,le),me=typeof v=="number"?{width:v,height:v,lineHeight:`${v}px`,fontSize:C?v/2:18}:{};let w;if(typeof y=="string"&&i)w=a.createElement("img",{src:y,draggable:oe,srcSet:E,onError:x,alt:re,crossOrigin:ne});else if(A)w=y;else if(C)w=C;else if(n||o!==1){const u=`scale(${o}) translateX(-50%)`,l={msTransform:u,WebkitTransform:u,transform:u},S=typeof v=="number"?{lineHeight:`${v}px`}:{};w=a.createElement(fe,{onResize:$},a.createElement("span",{className:`${z}-string`,ref:d,style:Object.assign(Object.assign({},S),l)},T))}else w=a.createElement("span",{className:`${z}-string`,style:{opacity:0},ref:d},T);return delete R.onError,delete R.gap,ie(a.createElement("span",Object.assign({},R,{style:Object.assign(Object.assign(Object.assign(Object.assign({},me),se),m==null?void 0:m.style),R.style),className:de,ref:f}),w))},Q=a.forwardRef(Ne),I=e=>e?typeof e=="function"?e():e:null,Re=e=>{const{componentCls:r,popoverColor:o,titleMinWidth:t,fontWeightStrong:n,popoverPadding:c,boxShadowSecondary:i,colorTextHeading:s,borderRadiusLG:p,zIndexPopup:d,marginXS:f,colorBgElevated:h,popoverBg:m}=e;return[{[r]:Object.assign(Object.assign({},Z(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":h,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${r}-content`]:{position:"relative"},[`${r}-inner`]:{backgroundColor:m,backgroundClip:"padding-box",borderRadius:p,boxShadow:i,padding:c},[`${r}-title`]:{minWidth:t,marginBottom:f,color:s,fontWeight:n},[`${r}-inner-content`]:{color:o}})},Ce(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${r}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${r}-content`]:{display:"inline-block"}}}]},ke=e=>{const{componentCls:r}=e;return{[r]:ze.map(o=>{const t=e[`${o}6`];return{[`&${r}-${o}`]:{"--antd-arrow-background-color":t,[`${r}-inner`]:{backgroundColor:t},[`${r}-arrow`]:{background:"transparent"}}}})}},Be=e=>{const{componentCls:r,lineWidth:o,lineType:t,colorSplit:n,paddingSM:c,controlHeight:i,fontSize:s,lineHeight:p,padding:d}=e,f=i-Math.round(s*p),h=f/2,m=f/2-o,g=d;return{[r]:{[`${r}-inner`]:{padding:0},[`${r}-title`]:{margin:0,padding:`${h}px ${g}px ${m}px`,borderBottom:`${o}px ${t} ${n}`},[`${r}-inner-content`]:{padding:`${c}px ${g}px`}}}},V=U("Popover",e=>{const{colorBgElevated:r,colorText:o,wireframe:t}=e,n=Y(e,{popoverPadding:12,popoverBg:r,popoverColor:o});return[Re(n),ke(n),t&&Be(n),be(n,"zoom-big")]},e=>({width:177,minWidth:177,titleMinWidth:177,zIndexPopup:e.zIndexPopupBase+30}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Ie=function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const We=(e,r,o)=>{if(!(!r&&!o))return a.createElement(a.Fragment,null,r&&a.createElement("div",{className:`${e}-title`},I(r)),a.createElement("div",{className:`${e}-inner-content`},I(o)))},Te=e=>{const{hashId:r,prefixCls:o,className:t,style:n,placement:c="top",title:i,content:s,children:p}=e;return a.createElement("div",{className:N(r,o,`${o}-pure`,`${o}-placement-${c}`,t),style:n},a.createElement("div",{className:`${o}-arrow`}),a.createElement($e,Object.assign({},e,{className:r,prefixCls:o}),p||We(o,i,s)))},_e=e=>{const{prefixCls:r}=e,o=Ie(e,["prefixCls"]),{getPrefixCls:t}=a.useContext(W),n=t("popover",r),[c,i]=V(n);return c(a.createElement(Te,Object.assign({},o,{prefixCls:n,hashId:i})))};var Me=function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Ae=e=>{let{title:r,content:o,prefixCls:t}=e;return a.createElement(a.Fragment,null,r&&a.createElement("div",{className:`${t}-title`},I(r)),a.createElement("div",{className:`${t}-inner-content`},I(o)))},K=a.forwardRef((e,r)=>{const{prefixCls:o,title:t,content:n,overlayClassName:c,placement:i="top",trigger:s="hover",mouseEnterDelay:p=.1,mouseLeaveDelay:d=.1,overlayStyle:f={}}=e,h=Me(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:m}=a.useContext(W),g=m("popover",o),[$,x]=V(g),P=m(),O=N(c,x);return $(a.createElement(Oe,Object.assign({placement:i,trigger:s,mouseEnterDelay:p,mouseLeaveDelay:d,overlayStyle:f},h,{prefixCls:g,overlayClassName:O,ref:r,overlay:t||n?a.createElement(Ae,{prefixCls:g,title:t,content:n}):null,transitionName:xe(P,"zoom-big",h.transitionName),"data-popover-inject":!0})))});K._InternalPanelDoNotUseOrYouWillBeFired=_e;const H=e=>{const{size:r,shape:o}=a.useContext(_),t=a.useMemo(()=>({size:e.size||r,shape:e.shape||o}),[e.size,e.shape,r,o]);return a.createElement(_.Provider,{value:t},e.children)},He=e=>{const{getPrefixCls:r,direction:o}=a.useContext(W),{prefixCls:t,className:n,rootClassName:c,style:i,maxCount:s,maxStyle:p,size:d,shape:f,maxPopoverPlacement:h="top",maxPopoverTrigger:m="hover",children:g}=e,$=r("avatar",t),x=`${$}-group`,[P,O]=J($),b=N(x,{[`${x}-rtl`]:o==="rtl"},n,c,O),y=Se(g).map((C,j)=>Pe(C,{key:`avatar-key-${j}`})),E=y.length;if(s&&s<E){const C=y.slice(0,s),j=y.slice(s,E);return C.push(a.createElement(K,{key:"avatar-popover-key",content:j,trigger:m,placement:h,overlayClassName:`${x}-popover`},a.createElement(Q,{style:p},`+${E-s}`))),P(a.createElement(H,{shape:f,size:d},a.createElement("div",{className:b,style:i},C)))}return P(a.createElement(H,{shape:f,size:d},a.createElement("div",{className:b,style:i},y)))},ee=Q;ee.Group=He;const Le=ue(ee),st={component:Le,tags:["autodocs"],parameters:{docs:{description:{component:"Avatar"}}},args:{children:"Avatar"}},k={args:{shape:"circle"}},B={args:{size:"large"}};var L,F,G;k.parameters={...k.parameters,docs:{...(L=k.parameters)==null?void 0:L.docs,source:{originalSource:`{
  args: {
    shape: 'circle'
  }
}`,...(G=(F=k.parameters)==null?void 0:F.docs)==null?void 0:G.source}}};var D,X,q;B.parameters={...B.parameters,docs:{...(D=B.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    size: 'large'
  }
}`,...(q=(X=B.parameters)==null?void 0:X.docs)==null?void 0:q.source}}};const it=["Defauit","Size"];export{k as Defauit,B as Size,it as __namedExportsOrder,st as default};
