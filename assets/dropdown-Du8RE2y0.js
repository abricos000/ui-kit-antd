import{r}from"./index-yUhCOHB4.js";import{R as k}from"./LeftOutlined-DymCdJzE.js";import{g as ee,m as oe,r as ne,t as N,o as te,q as ie,c as R,k as re,v as ae}from"./withTheme-BZjfB2_G.js";import{D as le}from"./Dropdown-BMaObMIL.js";import{u as se}from"./useMergedState-nnramASc.js";import{o as de}from"./omit-DXgDXInf.js";import{u as ce,z as pe}from"./useZIndex-DNZU-7k-.js";import{g as ue,a as me,i as ge,b as $e}from"./index-B0KqwWo5.js";import{i as j,g as ve}from"./PurePanel-MTBWwX2i.js";import{c as be}from"./reactNode-UryL7lBS.js";import{M as fe,O as we}from"./index-DaRgDHKF.js";import{i as D,s as Ce,a as he,b as xe,c as Se}from"./Overflow-B6oXC17A.js";const Pe=o=>{const{componentCls:e,menuCls:t,colorError:s,colorTextLightSolid:v}=o,d=`${t}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${t} ${d}`]:{[`&${d}-danger:not(${d}-disabled)`]:{color:s,"&:hover":{color:v,backgroundColor:s}}}}}},ye=o=>{const{componentCls:e,menuCls:t,zIndexPopup:s,dropdownArrowDistance:v,sizePopupArrow:d,antCls:n,iconCls:l,motionDurationMid:p,dropdownPaddingVertical:b,fontSize:f,dropdownEdgeChildPadding:u,colorTextDisabled:c,fontSizeIcon:a,controlPaddingHorizontal:C,colorBgElevated:m}=o;return[{[e]:Object.assign(Object.assign({},ne(o)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:s,display:"block","&::before":{position:"absolute",insetBlock:-v+d/2,zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${n}-btn`]:{[`& > ${l}-down, & > ${n}-btn-icon > ${l}-down`]:{fontSize:a}},[`${e}-wrap`]:{position:"relative",[`${n}-btn > ${l}-down`]:{fontSize:a},[`${l}-down::before`]:{transition:`transform ${p}`}},[`${e}-wrap-open`]:{[`${l}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${n}-slide-down-enter${n}-slide-down-enter-active${e}-placement-bottomLeft,
          &${n}-slide-down-appear${n}-slide-down-appear-active${e}-placement-bottomLeft,
          &${n}-slide-down-enter${n}-slide-down-enter-active${e}-placement-bottom,
          &${n}-slide-down-appear${n}-slide-down-appear-active${e}-placement-bottom,
          &${n}-slide-down-enter${n}-slide-down-enter-active${e}-placement-bottomRight,
          &${n}-slide-down-appear${n}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:Se},[`&${n}-slide-up-enter${n}-slide-up-enter-active${e}-placement-topLeft,
          &${n}-slide-up-appear${n}-slide-up-appear-active${e}-placement-topLeft,
          &${n}-slide-up-enter${n}-slide-up-enter-active${e}-placement-top,
          &${n}-slide-up-appear${n}-slide-up-appear-active${e}-placement-top,
          &${n}-slide-up-enter${n}-slide-up-enter-active${e}-placement-topRight,
          &${n}-slide-up-appear${n}-slide-up-appear-active${e}-placement-topRight`]:{animationName:xe},[`&${n}-slide-down-leave${n}-slide-down-leave-active${e}-placement-bottomLeft,
          &${n}-slide-down-leave${n}-slide-down-leave-active${e}-placement-bottom,
          &${n}-slide-down-leave${n}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:he},[`&${n}-slide-up-leave${n}-slide-up-leave-active${e}-placement-topLeft,
          &${n}-slide-up-leave${n}-slide-up-leave-active${e}-placement-top,
          &${n}-slide-up-leave${n}-slide-up-leave-active${e}-placement-topRight`]:{animationName:Ce}})},me(o,{colorBg:m,limitVerticalRadius:!0,arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${t}`]:{position:"relative",margin:0},[`${t}-submenu-popup`]:{position:"absolute",zIndex:s,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:{[t]:Object.assign(Object.assign({padding:u,listStyleType:"none",backgroundColor:m,backgroundClip:"padding-box",borderRadius:o.borderRadiusLG,outline:"none",boxShadow:o.boxShadowSecondary},N(o)),{[`${t}-item-group-title`]:{padding:`${b}px ${C}px`,color:o.colorTextDescription,transition:`all ${p}`},[`${t}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${t}-item-icon`]:{minWidth:f,marginInlineEnd:o.marginXS,fontSize:o.fontSizeSM},[`${t}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${p}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${t}-item, ${t}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${b}px ${C}px`,color:o.colorText,fontWeight:"normal",fontSize:f,lineHeight:o.lineHeight,cursor:"pointer",transition:`all ${p}`,borderRadius:o.borderRadiusSM,"&:hover, &-active":{backgroundColor:o.controlItemBgHover}},N(o)),{"&-selected":{color:o.colorPrimary,backgroundColor:o.controlItemBgActive,"&:hover, &-active":{backgroundColor:o.controlItemBgActiveHover}},"&-disabled":{color:c,cursor:"not-allowed","&:hover":{color:c,backgroundColor:m,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${o.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:o.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:o.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:o.colorTextDescription,fontSize:a,fontStyle:"normal"}}}),[`${t}-item-group-list`]:{margin:`0 ${o.marginXS}px`,padding:0,listStyle:"none"},[`${t}-submenu-title`]:{paddingInlineEnd:C+o.fontSizeSM},[`${t}-submenu-vertical`]:{position:"relative"},[`${t}-submenu${t}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:c,backgroundColor:m,cursor:"not-allowed"}},[`${t}-submenu-selected ${e}-menu-submenu-title`]:{color:o.colorPrimary}})}},[D(o,"slide-up"),D(o,"slide-down"),j(o,"move-up"),j(o,"move-down"),ge(o,"zoom-big")]]},Ie=ee("Dropdown",(o,e)=>{let{rootPrefixCls:t}=e;const{marginXXS:s,sizePopupArrow:v,controlHeight:d,fontSize:n,lineHeight:l,paddingXXS:p,componentCls:b,borderRadiusLG:f}=o,u=(d-n*l)/2,{dropdownArrowOffset:c}=ue({contentRadius:f}),a=oe(o,{menuCls:`${b}-menu`,rootPrefixCls:t,dropdownArrowDistance:v/2+s,dropdownArrowOffset:c,dropdownPaddingVertical:u,dropdownEdgeChildPadding:p});return[ye(a),Pe(a)]},o=>({zIndexPopup:o.zIndexPopupBase+50})),M=o=>{const{menu:e,arrow:t,prefixCls:s,children:v,trigger:d,disabled:n,dropdownRender:l,getPopupContainer:p,overlayClassName:b,rootClassName:f,overlayStyle:u,open:c,onOpenChange:a,visible:C,onVisibleChange:m,mouseEnterDelay:A=.15,mouseLeaveDelay:X=.1,autoAdjustOverflow:L=!0,placement:g="",overlay:x,transitionName:S}=o,{getPopupContainer:T,getPrefixCls:P,direction:h,dropdown:w}=r.useContext(te);ae();const B=r.useMemo(()=>{const i=P();return S!==void 0?S:g.includes("top")?`${i}-slide-down`:`${i}-slide-up`},[P,g,S]),H=r.useMemo(()=>g?g.includes("Center")?g.slice(0,g.indexOf("Center")):g:h==="rtl"?"bottomRight":"bottomLeft",[g,h]),$=P("dropdown",s),[W,V]=Ie($),[,y]=ie(),O=r.Children.only(v),U=be(O,{className:R(`${$}-trigger`,{[`${$}-rtl`]:h==="rtl"},O.props.className),disabled:n}),I=n?[]:d;let z;I&&I.includes("contextMenu")&&(z=!0);const[_,E]=se(!1,{value:c??C}),Z=re(i=>{a==null||a(i,{source:"trigger"}),m==null||m(i),E(i)}),F=R(b,f,V,w==null?void 0:w.className,{[`${$}-rtl`]:h==="rtl"}),G=$e({arrowPointAtCenter:typeof t=="object"&&t.pointAtCenter,autoAdjustOverflow:L,offset:y.marginXXS,arrowWidth:t?y.sizePopupArrow:0,borderRadius:y.borderRadius}),Y=r.useCallback(()=>{e!=null&&e.selectable&&(e!=null&&e.multiple)||(a==null||a(!1,{source:"menu"}),E(!1))},[e==null?void 0:e.selectable,e==null?void 0:e.multiple]),q=()=>{let i;return e!=null&&e.items?i=r.createElement(fe,Object.assign({},e)):typeof x=="function"?i=x():i=x,l&&(i=l(i)),i=r.Children.only(typeof i=="string"?r.createElement("span",null,i):i),r.createElement(we,{prefixCls:`${$}-menu`,expandIcon:r.createElement("span",{className:`${$}-menu-submenu-arrow`},r.createElement(k,{className:`${$}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Y,validator:Q=>{let{mode:Ne}=Q}},i)},[J,K]=ce("Dropdown",u==null?void 0:u.zIndex);return W(r.createElement(pe.Provider,{value:K},r.createElement(le,Object.assign({alignPoint:z},de(o,["rootClassName"]),{mouseEnterDelay:A,mouseLeaveDelay:X,visible:_,builtinPlacements:G,arrow:!!t,overlayClassName:F,prefixCls:$,getPopupContainer:p||T,transitionName:B,trigger:I,overlay:q,placement:H,onVisibleChange:Z,overlayStyle:Object.assign(Object.assign(Object.assign({},w==null?void 0:w.style),u),{zIndex:J})}),U)))};function Oe(o){return Object.assign(Object.assign({},o),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const ze=ve(M,"dropdown",o=>o,Oe),Ee=o=>r.createElement(ze,Object.assign({},o),r.createElement("span",null));M._InternalPanelDoNotUseOrYouWillBeFired=Ee;export{M as D,Ie as u};
